
<div class="container-fluid d-flex justify-content-center">

  <div class="image-box">
    <img *ngIf="backgroundImage" [src]="backgroundImage" alt="iHomer" class="background-image">
  </div>

  <div class="border-box">

    <h1 class="d-flex justify-content-center mt-5">Registreren</h1>

    

    <form class="m-5" [formGroup]="newDeelnemer" (ngSubmit)="createUser()">

      <div class="row">

        <!-- Left column -->
        <div class="col-md-6">
          <div class="forms mt-3">
            <div class="row">

              <div class="col-md-7">
                <div class="form-group mb-4" [ngClass]="{'has-error': newDeelnemer.get('firstName')?.hasError('required') && newDeelnemer.get('firstName')?.touched}">
                    <label for="InputFirstName" [class]="{'text-danger': newDeelnemer.get('firstName')?.hasError('required') && newDeelnemer.get('firstName')?.touched}" class="fw-bold">Voornaam</label>
                    <input type="text" class="form-control" id="InputFirstName" formControlName="firstName">
            
                    <div *ngIf="newDeelnemer.get('firstName')?.hasError('required') && newDeelnemer.get('firstName')?.touched" class="text-danger"></div>
                </div>
            </div>
            
            
              <div class="col-md-5">
                <div class="form-group mb-4">
                  <label for="InputInfix" class="fw-bold">Tussenvoegsel</label>
                  <input type="text" class="form-control" id="InputInfix" formControlName="infix">
                </div>
              </div>
            </div>
            
            <div class="form-group mb-4" [ngClass]="{'has-error': newDeelnemer.get('birthDay')?.invalid && newDeelnemer.get('birthDay')?.touched}">
              <label for="InputBirthdate" class="fw-bold" [ngClass]="{'text-danger': newDeelnemer.get('birthDay')?.invalid && newDeelnemer.get('birthDay')?.touched}">Geboortedatum</label>
              <input type="date" class="form-control" id="InputDate" formControlName="birthDay">
                      
              <div *ngIf="newDeelnemer.get('birthDay')?.hasError('required') && newDeelnemer.get('birthDay')?.touched" class="text-danger">
              </div>
                    
              <div *ngIf="(newDeelnemer.get('birthDay')?.hasError('dateInFuture') || newDeelnemer.get('birthDay')?.hasError('dateBefore1900')) && !newDeelnemer.get('birthDay')?.hasError('required') && newDeelnemer.get('birthDay')?.touched" class="text-danger">
              </div>
          </div>
        </div>
       
          
          
          
          <div class="row">


            <div class="col-md-9" [ngClass]="{'has-error': newDeelnemer.get('street')?.invalid && newDeelnemer.get('street')?.touched}">
              <div class="form-group mb-4">
                <label for="InputStreet" class="fw-bold" [ngClass]="{'text-danger': newDeelnemer.get('street')?.invalid && newDeelnemer.get('street')?.touched}">Straatnaam</label>
                <input type="text" class="form-control" id="InputStreet" formControlName="street">
              
                <div *ngIf="newDeelnemer.get('street')?.hasError('required') && newDeelnemer.get('street')?.touched" class="text-danger">
                </div>
              </div>
            </div>
            
            <div class="col-md-3" [ngClass]="{'has-error': newDeelnemer.get('houseNumber')?.invalid && newDeelnemer.get('houseNumber')?.touched}">
              <div class="form-group mb-4">
                <label for="InputHousenumber" class="fw-bold" [ngClass]="{'text-danger': newDeelnemer.get('houseNumber')?.invalid && newDeelnemer.get('houseNumber')?.touched}">Huisnummer</label>
                <input type="text" class="form-control" id="InputHousenumber" formControlName="houseNumber">
              
                <div *ngIf="newDeelnemer.get('houseNumber')?.hasError('required') && newDeelnemer.get('houseNumber')?.touched" class="text-danger">
                </div>
              
                <div *ngIf="newDeelnemer.get('houseNumber')?.hasError('invalidHouseNumber') && !newDeelnemer.get('houseNumber')?.hasError('required') && newDeelnemer.get('houseNumber')?.touched" class="text-danger">
                </div>
              </div>
            </div>
            
          
            <div class="form-group mb-4"> 
              <label for="InputBirthdate" class="fw-bold">Geboortedatum</label>
              <input type="date" class="form-control" id="InputDate" [(ngModel)]="user.birthday" name="birthDay" placeholder="Selecteer geboortedatum" required>
            </div>
         

        </div>
      </div>

        <!-- Right column -->   
        <div class="col-md-6">
          <div class="forms mt-3">

            <div class="form-group mb-4" [ngClass]="{'has-error': newDeelnemer.get('lastName')?.hasError('required') && newDeelnemer.get('lastName')?.touched}">
              <label for="InputLastName" [class]="{'text-danger': newDeelnemer.get('lastName')?.hasError('required') && newDeelnemer.get('lastName')?.touched}" class="fw-bold">Achternaam</label>
              <input type="text" class="form-control" id="InputLastName" formControlName="lastName">
          
              <div *ngIf="newDeelnemer.get('lastName')?.hasError('required') && newDeelnemer.get('lastName')?.touched" class="text-danger">
              </div>
          </div>
          
          <div class="form-group mb-4" [ngClass]="{'has-error': newDeelnemer.get('email')?.invalid && newDeelnemer.get('email')?.touched}">
            <label for="InputEmail" class="fw-bold" [ngClass]="{'text-danger': newDeelnemer.get('email')?.invalid && newDeelnemer.get('email')?.touched}">Emailadres</label>
            <input type="email" class="form-control" id="InputEmail" formControlName="email">
            
            <div *ngIf="newDeelnemer.get('email')?.hasError('required') && newDeelnemer.get('email')?.touched" class="text-danger">
            </div>

            <div *ngIf="newDeelnemer.get('email')?.hasError('invalidEmail') && !newDeelnemer.get('email')?.hasError('required') && newDeelnemer.get('email')?.touched" class="text-danger">
            </div>
          </div>


            <div class="row">
              <div class="col-md-4" [ngClass]="{'has-error': newDeelnemer.get('postalCode')?.invalid && newDeelnemer.get('postalCode')?.touched}">
                <div class="form-group mb-4">
                  <label for="InputpostalCode" class="fw-bold" [ngClass]="{'text-danger': newDeelnemer.get('postalCode')?.invalid && newDeelnemer.get('postalCode')?.touched}">Postcode</label>
                  <input type="text" class="form-control" id="InputpostalCode" formControlName="postalCode">
              
                  <div *ngIf="newDeelnemer.get('postalCode')?.hasError('required') && newDeelnemer.get('postalCode')?.touched" class="text-danger">
                  </div>
            
                  <div *ngIf="newDeelnemer.get('postalCode')?.hasError('invalidPostalCode') && !newDeelnemer.get('postalCode')?.hasError('required') && newDeelnemer.get('postalCode')?.touched" class="text-danger">
                    NL of BE postcode.
                  </div>
                </div>
              </div>
            
              <div class="col-md-8" [ngClass]="{'has-error': newDeelnemer.get('city')?.invalid && newDeelnemer.get('city')?.touched}">
                <div class="form-group mb-4">
                  <label for="Inputcity" class="fw-bold" [ngClass]="{'text-danger': newDeelnemer.get('city')?.invalid && newDeelnemer.get('city')?.touched}">Stad</label>
                  <input type="text" class="form-control" id="Inputcity" formControlName="city">
              
                  <div *ngIf="newDeelnemer.get('city')?.hasError('required') && newDeelnemer.get('city')?.touched" class="text-danger">
                  </div>
                </div>
              </div>
              
            </div>
            

            <div class="form-group" [ngClass]="{'has-error': newDeelnemer.get('password')?.hasError('invalidPassword') && newDeelnemer.get('password')?.touched}">
              <label for="Inputpassword" class="fw-bold" [ngClass]="{'text-danger': newDeelnemer.get('password')?.hasError('invalidPassword') && newDeelnemer.get('password')?.touched}">Wachtwoord</label>
              <input type="password" class="form-control" id="Inputpassword" formControlName="password">
              
              <div *ngIf="newDeelnemer.get('password')?.hasError('required') && newDeelnemer.get('password')?.touched" class="text-danger"></div>
            
              <div *ngIf="newDeelnemer.get('password')?.hasError('invalidPassword') && !newDeelnemer.get('password')?.hasError('required') && newDeelnemer.get('password')?.touched" class="text-danger">
                Ongeldig wachtwoord. Minimaal 8 tekens lang met ten minste 1 kleine letter, 1 hoofdletter en 1 cijfer.
              </div>
            </div>

            <div class="form-group mb-4">
              <label for="tag" class="fw-bold">Tag</label>
              <ng-select [items]="distinctTags" bindLabel="tag" [(ngModel)]="selectedTag" name="tag" [searchable]="true"></ng-select>
            </div>
            
            </div>
        </div>

        </div>

    </form>


    <div class="text-center">
      <button type="button" class="btn btn-danger" (click)="createUser()" [disabled]="!newDeelnemer.valid">
        Deelnemer aanmaken
      </button>
      <button type="button" class="btn btn-dark ms-4" (click)="goBack()">
        Annuleren
      </button>
    </div>
</div>
